<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<title>Play Rock, Paper, Scissors against a computer!</title>

</head>
<body>
	<h2>Lets play Rock, Paper, Scissors!</h2>
	<div class="container"></div>
	<div class="buttons">
		<div id="computer-score">
			
		</div>
		<div id="player-score">
			
		</div>
		<button type="button" id="rock">Rock</button>
		<button type="button" id="paper">Paper</button>
		<button type="button" id="scissors">Scissors</button>
	</div>

</body>
<script type="text/javascript">
	const rockButton = document.getElementById("rock");
	rockButton.addEventListener("click", function () { playRound("rock")});

	const paperButton = document.getElementById("paper");
	paperButton.addEventListener("click", function () { playRound("paper")});

	const scissorsButton = document.getElementById("scissors");
	scissorsButton.addEventListener("click", function () { playRound("scissors")});

	let computerWins = 0;
	document.getElementById("computer-score").innerText = "Computer Wins: " + computerWins;

	let playerWins = 0;
	document.getElementById("player-score").innerText ="Player Wins: " + playerWins;

	function computerPlay(){
		const randomMove = Math.floor(Math.random()*100);
		computerSelection = (randomMove <= 33) ? "rock":(randomMove >= 34 && randomMove <= 65) ? "paper": "scissors";
		return computerSelection;
	}

	function playRound(playerSelection){
		computerSelection = computerPlay()
		switch(true) {
			case (computerSelection=="rock"):
			    outcome = (playerSelection=="paper") ? "Paper covers Rock. Player wins!": (playerSelection=="scissors") ? "Rock smashes Scissors. Computer wins!" : "Tie game"
			    return game(outcome);
			case (computerSelection=="paper"):
			    outcome = (playerSelection=="rock") ? "Paper covers Rock. Computer wins!": (playerSelection=="scissors") ? "Scissors cut Paper. Player wins!" : "Tie game"
			    return game(outcome);
			case (computerSelection=="scissors"):
			    outcome = (playerSelection=="paper") ? "Scissors cut Paper. Computer wins!": (playerSelection=="rock") ? "Rock smashes Scissors. Player wins!" : "Tie game"
			    return game(outcome);
			default:
			   outcome = "An unknown error has occured."
			   return;
		}
	}
	function game(outcome){
		if (computerWins < 5 || playerWins < 5){
		    if (outcome.includes("Computer Win")){
			    computerWins++
			    document.getElementById(computer-score).innerText("Computer Wins: " + computerWins)
			    if (computerWins=5){
			    	playerWins = 0
			    	computerWins = 0
			    	return alert("Computer wins the game!")

			    }
		    }
		    if (outcome.includes("Player Wins")){
			    playerWins++
			    document.getElementById(player-score).innerText("Player Wins: " + playerWins)
			    if (playerWins=5){
			    	playerWins = 0
			    	computerWins = 0
			    	return alert("Player wins the game!")
			    }
		}
		}
}
</script>